# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type ParticipantList {
  id: ID!
  personID: Int!
  eventID: Int!
  status: String!
}

type Location {
  id: ID!
  address: String
  isOffline: Boolean!

  """ссылка на мероприятие, если оно онлайн"""
  link: String
}

type Event {
  id: ID!
  name: String!

  """ссылка на обложку"""
  urlCover: String
  description: String
  isSBT: Boolean!
  creatorID: Int!

  """начало мероприятия"""
  startedAt: DateTime!

  """конец мероприятия"""
  finishedAt: DateTime!
  locationID: Int

  """ссылка на ipfs"""
  nftIpfsUrl: String!

  """количество зарегестрированных пользователей"""
  registeredParticipants: Int!
  type: String!
  status: String!

  """ссылка для подтверждения регестрации"""
  approveLink: String
  location: Location
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Person {
  id: ID!
  tgID: String!
  role: String!
  ParticipantList: [ParticipantList!]!
  events: [Event!]!
}

type Query {
  personByID(id: Int!): Person!
  personByTgID(tgID: String!): Person!
  statusCollection: [String!]!
  typeCollection: [String!]!
  roleCollection: [String!]!
  locationCollection: [Location!]!
  locationByID(id: Int!): Location!

  """получение статуса участника на данном мероприятии"""
  status(input: CreateParticipantListInput!): String!

  """получение всех мероприятий"""
  eventCollection: [Event!]!

  """получение мероприятия по его характеристикам"""
  event(where: EventWhereUniqueInput!): Event

  """получение мероприятий по телеграмм id создателя"""
  eventCollectionByTG(where: EventWhereInput, orderBy: [EventOrderByWithRelationInput!], cursor: EventWhereUniqueInput, take: Int, skip: Int, distinct: [EventScalarFieldEnum!]): [Event!]!
}

input CreateParticipantListInput {
  personID: Int!
  eventID: Int!
}

input EventWhereUniqueInput {
  id: Int
  approveLink: String
}

input EventWhereInput {
  name: String
  creator: PersonRelationFilter
}

input PersonRelationFilter {
  is: PersonWhereInput
}

input PersonWhereInput {
  tgID: String
}

input EventOrderByWithRelationInput {
  id: SortOrder
  name: SortOrder
  type: SortOrder
  status: SortOrder
  urlCover: SortOrderInput
  description: SortOrderInput
  isSBT: SortOrder
  creatorID: SortOrder
  startedAt: SortOrder
  finishedAt: SortOrder
  locationID: SortOrderInput
  nftIpfsUrl: SortOrder
  contractAddress: SortOrderInput
  registeredParticipants: SortOrder
  countOfRewardTokens: SortOrder
  createdAt: SortOrder
  updatedAt: SortOrder
  approveLink: SortOrderInput
  creator: PersonOrderByWithRelationInput
  location: LocationOrderByWithRelationInput
  ParticipantList: ParticipantListOrderByRelationAggregateInput
}

enum SortOrder {
  asc
  desc
}

input SortOrderInput {
  sort: SortOrder!
  nulls: NullsOrder
}

enum NullsOrder {
  first
  last
}

input PersonOrderByWithRelationInput {
  id: SortOrder
  walletAddress: SortOrder
  tgID: SortOrder
  role: SortOrder
  events: EventOrderByRelationAggregateInput
  ParticipantList: ParticipantListOrderByRelationAggregateInput
}

input EventOrderByRelationAggregateInput {
  _count: SortOrder
}

input ParticipantListOrderByRelationAggregateInput {
  _count: SortOrder
}

input LocationOrderByWithRelationInput {
  id: SortOrder
  address: SortOrderInput
  isOffline: SortOrder
  link: SortOrderInput
  events: EventOrderByRelationAggregateInput
}

enum EventScalarFieldEnum {
  id
  name
  type
  status
  urlCover
  description
  isSBT
  creatorID
  startedAt
  finishedAt
  locationID
  nftIpfsUrl
  contractAddress
  registeredParticipants
  countOfRewardTokens
  createdAt
  updatedAt
  approveLink
}

type Mutation {
  createPerson(walletAddress: String!, tgID: String!): Person!

  """создание новой локации"""
  createLocation(createLocationInput: CreateLocationInput!): Location!

  """регистрация человека на мероприятие"""
  register(createParticipantListInput: CreateParticipantListInput!): ParticipantList!

  """подтверждение участия участника в мероприятии"""
  approve(input: CreateParticipantListInput!): ParticipantList!

  """создание мероприятия"""
  createEvent(
    input: CreateEventInput!

    """телеграмм id создателя мероприятия"""
    tgID: String!
  ): Event!

  """добавление подтверждающей ссылки"""
  addApproveLink(eventID: Float!, approveLink: String!): Event!
}

input CreateLocationInput {
  address: String
  isOffline: Boolean!
  link: String
}

input CreateEventInput {
  name: String!
  type: String = "NOT_STATED"
  status: String = "REGISTRATION_CLOSED"
  urlCover: String
  description: String
  isSBT: Boolean!
  startedAt: DateTime!
  finishedAt: DateTime!
  locationID: Int
  nftIpfsUrl: String!
  countOfRewardTokens: Int!
  approveLink: String
}